{"ast":null,"code":"var _jsxFileName = \"/Users/arseny0304/Desktop/full_service/frontend/src/components/D3BarChart.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function D3BarChart({\n  data,\n  labelKey,\n  valueKey,\n  color\n}) {\n  _s();\n  const svgRef = useRef();\n  useEffect(() => {\n    const svg = d3.select(svgRef.current);\n    const width = 700;\n    const height = 400;\n    const margin = {\n      top: 20,\n      right: 20,\n      bottom: 60,\n      left: 60\n    };\n    svg.attr(\"viewBox\", `0 0 ${width} ${height}`);\n    svg.selectAll(\"*\").remove();\n    const x = d3.scaleBand().domain(data.map(d => d[labelKey])).range([margin.left, width - margin.right]).padding(0.2);\n    const y = d3.scaleLinear().domain([0, d3.max(data, d => d[valueKey])]).nice().range([height - margin.bottom, margin.top]);\n    svg.append(\"g\").attr(\"transform\", `translate(0,${height - margin.bottom})`).call(d3.axisBottom(x)).selectAll(\"text\").attr(\"transform\", \"rotate(-40)\").style(\"text-anchor\", \"end\");\n    svg.append(\"g\").attr(\"transform\", `translate(${margin.left},0)`).call(d3.axisLeft(y));\n    svg.selectAll(\".bar\").data(data).join(\"rect\").attr(\"class\", \"bar\").attr(\"x\", d => x(d[labelKey])).attr(\"y\", d => y(d[valueKey])).attr(\"width\", x.bandwidth()).attr(\"height\", d => y(0) - y(d[valueKey])).attr(\"fill\", color || \"#ff69b4\");\n  }, [data, labelKey, valueKey, color]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: svgRef,\n    className: \"w-full\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 10\n  }, this);\n}\n_s(D3BarChart, \"89Ty783ABEwsfMbSOeu9vscWF34=\");\n_c = D3BarChart;\nvar _c;\n$RefreshReg$(_c, \"D3BarChart\");","map":{"version":3,"names":["React","useRef","useEffect","d3","jsxDEV","_jsxDEV","D3BarChart","data","labelKey","valueKey","color","_s","svgRef","svg","select","current","width","height","margin","top","right","bottom","left","attr","selectAll","remove","x","scaleBand","domain","map","d","range","padding","y","scaleLinear","max","nice","append","call","axisBottom","style","axisLeft","join","bandwidth","ref","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/arseny0304/Desktop/full_service/frontend/src/components/D3BarChart.jsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport * as d3 from 'd3';\n\nexport default function D3BarChart({ data, labelKey, valueKey, color }) {\n  const svgRef = useRef();\n\n  useEffect(() => {\n    const svg = d3.select(svgRef.current);\n    const width = 700;\n    const height = 400;\n    const margin = { top: 20, right: 20, bottom: 60, left: 60 };\n\n    svg.attr(\"viewBox\", `0 0 ${width} ${height}`);\n    svg.selectAll(\"*\").remove();\n\n    const x = d3.scaleBand()\n      .domain(data.map(d => d[labelKey]))\n      .range([margin.left, width - margin.right])\n      .padding(0.2);\n\n    const y = d3.scaleLinear()\n      .domain([0, d3.max(data, d => d[valueKey])])\n      .nice()\n      .range([height - margin.bottom, margin.top]);\n\n    svg.append(\"g\")\n      .attr(\"transform\", `translate(0,${height - margin.bottom})`)\n      .call(d3.axisBottom(x))\n      .selectAll(\"text\")\n        .attr(\"transform\", \"rotate(-40)\")\n        .style(\"text-anchor\", \"end\");\n\n    svg.append(\"g\")\n      .attr(\"transform\", `translate(${margin.left},0)`)\n      .call(d3.axisLeft(y));\n\n    svg.selectAll(\".bar\")\n      .data(data)\n      .join(\"rect\")\n        .attr(\"class\", \"bar\")\n        .attr(\"x\", d => x(d[labelKey]))\n        .attr(\"y\", d => y(d[valueKey]))\n        .attr(\"width\", x.bandwidth())\n        .attr(\"height\", d => y(0) - y(d[valueKey]))\n        .attr(\"fill\", color || \"#ff69b4\");\n  }, [data, labelKey, valueKey, color]);\n\n  return <svg ref={svgRef} className=\"w-full\" />;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}