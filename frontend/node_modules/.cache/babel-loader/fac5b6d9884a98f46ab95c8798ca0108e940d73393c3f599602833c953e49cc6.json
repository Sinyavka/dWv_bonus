{"ast":null,"code":"var _jsxFileName = \"/Users/arseny0304/Desktop/full_service/frontend/src/components/D3LineChart.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function D3LineChart({\n  data,\n  dateKey,\n  valueKey,\n  color\n}) {\n  _s();\n  const svgRef = useRef();\n  useEffect(() => {\n    const svg = d3.select(svgRef.current);\n    const width = 700;\n    const height = 400;\n    const margin = {\n      top: 20,\n      right: 20,\n      bottom: 60,\n      left: 60\n    };\n    svg.attr(\"viewBox\", `0 0 ${width} ${height}`);\n    svg.selectAll(\"*\").remove();\n    const parseDate = d3.timeParse(\"%Y-%m-%d\");\n    const dataParsed = data.map(d => ({\n      date: parseDate(d[dateKey]),\n      value: d[valueKey]\n    }));\n    const x = d3.scaleTime().domain(d3.extent(dataParsed, d => d.date)).range([margin.left, width - margin.right]);\n    const y = d3.scaleLinear().domain([0, d3.max(dataParsed, d => d.value)]).nice().range([height - margin.bottom, margin.top]);\n    svg.append(\"g\").attr(\"transform\", `translate(0,${height - margin.bottom})`).call(d3.axisBottom(x).tickFormat(d3.timeFormat(\"%b %d\")));\n    svg.append(\"g\").attr(\"transform\", `translate(${margin.left},0)`).call(d3.axisLeft(y));\n    const line = d3.line().x(d => x(d.date)).y(d => y(d.value));\n    svg.append(\"path\").datum(dataParsed).attr(\"fill\", \"none\").attr(\"stroke\", color || \"#ff69b4\").attr(\"stroke-width\", 2).attr(\"d\", line);\n  }, [data, dateKey, valueKey, color]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: svgRef,\n    className: \"w-full\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 10\n  }, this);\n}\n_s(D3LineChart, \"89Ty783ABEwsfMbSOeu9vscWF34=\");\n_c = D3LineChart;\nvar _c;\n$RefreshReg$(_c, \"D3LineChart\");","map":{"version":3,"names":["React","useRef","useEffect","d3","jsxDEV","_jsxDEV","D3LineChart","data","dateKey","valueKey","color","_s","svgRef","svg","select","current","width","height","margin","top","right","bottom","left","attr","selectAll","remove","parseDate","timeParse","dataParsed","map","d","date","value","x","scaleTime","domain","extent","range","y","scaleLinear","max","nice","append","call","axisBottom","tickFormat","timeFormat","axisLeft","line","datum","ref","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/arseny0304/Desktop/full_service/frontend/src/components/D3LineChart.jsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport * as d3 from 'd3';\n\nexport default function D3LineChart({ data, dateKey, valueKey, color }) {\n  const svgRef = useRef();\n\n  useEffect(() => {\n    const svg = d3.select(svgRef.current);\n    const width = 700;\n    const height = 400;\n    const margin = { top: 20, right: 20, bottom: 60, left: 60 };\n\n    svg.attr(\"viewBox\", `0 0 ${width} ${height}`);\n    svg.selectAll(\"*\").remove();\n\n    const parseDate = d3.timeParse(\"%Y-%m-%d\");\n    const dataParsed = data.map(d => ({\n      date: parseDate(d[dateKey]),\n      value: d[valueKey]\n    }));\n\n    const x = d3.scaleTime()\n      .domain(d3.extent(dataParsed, d => d.date))\n      .range([margin.left, width - margin.right]);\n\n    const y = d3.scaleLinear()\n      .domain([0, d3.max(dataParsed, d => d.value)])\n      .nice()\n      .range([height - margin.bottom, margin.top]);\n\n    svg.append(\"g\")\n      .attr(\"transform\", `translate(0,${height - margin.bottom})`)\n      .call(d3.axisBottom(x).tickFormat(d3.timeFormat(\"%b %d\")));\n\n    svg.append(\"g\")\n      .attr(\"transform\", `translate(${margin.left},0)`)\n      .call(d3.axisLeft(y));\n\n    const line = d3.line()\n      .x(d => x(d.date))\n      .y(d => y(d.value));\n\n    svg.append(\"path\")\n      .datum(dataParsed)\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", color || \"#ff69b4\")\n      .attr(\"stroke-width\", 2)\n      .attr(\"d\", line);\n  }, [data, dateKey, valueKey, color]);\n\n  return <svg ref={svgRef} className=\"w-full\" />;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}